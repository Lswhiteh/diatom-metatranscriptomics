#!/bin/bash

#SBATCH --nodes=1
#SBATCH --time=1-00:00:00
#SBATCH --mem=500G
#SBATCH --ntasks=24
#SBATCH -J trinity
#SBATCH -o trinity.%A.out
#SBATCH -e trinity.%A.err
#SBATCH --mail-type=BEGIN,END,FAIL
#SBATCH --mail-user=lswhiteh@email.unc.edu

cd /pine/scr/l/s/lswhiteh/p_line/LineP2015/2019_analysis/fastqs

module load trinity

#Easy way to condense filenames is to make variables that contain the path to the files
#That way you can organize better and still easily use them in scripts
samp1path="/pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Reads/Samp_1"
samp2path="/pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Reads/Samp_2"

Trinity --seqType fq \
	--max_memory 500G \
	--left ${samp1path}/sample_1_R1.fq,${samp2path}/sample_2_R1.fq \
	--right ${samp1path}/sample_1_R2.fq,${samp2path}/sample_2_R2.fq \
	--CPU 24 \
	--output /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly 
	#Can use this section to run parallelized, do testing to see how much memory you need per submission
	#--grid_exec "/pine/scr/l/s/lswhiteh/HpcGridRunner-1.0.2/hpc_cmds_GridRunner.pl \
	#		--grid_conf /pine/scr/l/s/lswhiteh/HpcGridRunner-1.0.2/trinity_slurm.conf -c"

