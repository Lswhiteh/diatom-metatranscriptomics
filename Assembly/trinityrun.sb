#!/bin/bash

#SBATCH --nodes=1
#SBATCH --time=8-00:00:00
#SBATCH --mem=200G
#SBATCH --ntasks=24
#SBATCH -J trinity
#SBATCH -o trinity.%A.out
#SBATCH -e trinity.%A.err
#SBATCH --mail-type=BEGIN,END,FAIL
#SBATCH --mail-user=lswhiteh@email.unc.edu

source activate metagenomics

cd /pine/scr/l/s/lswhiteh/p_line/LineP2015/2019_analysis/fastqs

module load trinity

Trinity --seqType fq \
	--max_memory 200G \
	--left Q0111_R1.fq,Q0121_R1.fq,Q0124_R1.fq,Q0127_R1.fq --right Q0111_R2.fq,Q0121_R2.fq,Q0124_R2.fq,Q0127_R2.fq \
	--CPU 24 \
	--output /pine/scr/l/s/lswhiteh/p_line/LineP2015/2019_analysis/trinity_papa_assemblies \
	--grid_exec "/pine/scr/l/s/lswhiteh/HpcGridRunner-1.0.2/hpc_cmds_GridRunner.pl \
			--grid_conf /pine/scr/l/s/lswhiteh/HpcGridRunner-1.0.2/trinity_slurm.conf -c"

#/nas/longleaf/home/lswhiteh/.conda/envs/metagenomics/opt/trinity-2.8.5/util/align_and_estimate_abundance.pl \
#	--transcripts /pine/scr/l/s/lswhiteh/carly_tagseq/trinity_test/C1.trim.fastq_trinity/Trinity.fasta \
#	--seqType fq \
#	--thread_count 12 \
#	--single /pine/scr/l/s/lswhiteh/carly_tagseq/C1.trim.fastq \
#	--est_method kallisto --trinity_mode --prep_reference \
#	--output_dir /pine/scr/l/s/lswhiteh/carly_tagseq/C1.trim.fastq_trinity/rsemquant \
#	--kallisto_add_opts "-l 51 -s 5"
	


