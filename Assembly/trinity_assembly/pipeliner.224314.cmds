/nas/longleaf/apps/trinity/2.8.5/trinityrnaseq-Trinity-v2.8.5/Chrysalis/bin/GraphFromFasta -i /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/inchworm.K25.L25.DS.fa -r /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/both.fa -min_contig_length 200 -min_glue 2 -glue_factor 0.05 -min_iso_ratio 0.05 -t 24 -k 24 -kk 48  -scaffolding /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/iworm_scaffolds.txt  > /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/iworm_cluster_welds_graph.txt
/usr/bin/sort --parallel=24 -T . -S 500G  -k9,9gr /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/iworm_cluster_welds_graph.txt > /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/iworm_cluster_welds_graph.txt.sorted
/nas/longleaf/apps/trinity/2.8.5/trinityrnaseq-Trinity-v2.8.5/util/support_scripts/annotate_chrysalis_welds_with_iworm_names.pl /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/inchworm.K25.L25.DS.fa /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/iworm_cluster_welds_graph.txt.sorted > /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/iworm_cluster_welds_graph.txt.sorted.wIwormNames
/nas/longleaf/apps/trinity/2.8.5/trinityrnaseq-Trinity-v2.8.5/Chrysalis/bin/BubbleUpClustering -i /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/inchworm.K25.L25.DS.fa  -weld_graph /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/iworm_cluster_welds_graph.txt.sorted -min_contig_length 200 -max_cluster_size 25  > /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/GraphFromIwormFasta.out
/nas/longleaf/apps/trinity/2.8.5/trinityrnaseq-Trinity-v2.8.5/Chrysalis/bin/CreateIwormFastaBundle -i /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/GraphFromIwormFasta.out -o /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/bundled_iworm_contigs.fasta -min 200
/nas/longleaf/apps/trinity/2.8.5/trinityrnaseq-Trinity-v2.8.5/Chrysalis/bin/ReadsToTranscripts -i /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/both.fa -f /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/bundled_iworm_contigs.fasta -o /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/readsToComponents.out -t 24 -max_mem_reads 50000000 
/usr/bin/sort --parallel=24 -T . -S 500G -k 1,1n /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/readsToComponents.out > /pine/scr/l/s/lswhiteh/diatom-metatranscriptomics/Assembly/trinity_assembly/chrysalis/readsToComponents.out.sort
